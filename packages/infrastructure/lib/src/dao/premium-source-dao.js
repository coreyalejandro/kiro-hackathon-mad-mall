"use strict";
/**
 * Premium Source DAO Implementation
 * Manages premium image providers and licensing metadata
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.PremiumSourceDynamoDAO = void 0;
const base_dao_1 = require("./base-dao");
const shared_types_1 = require("@madmall/shared-types");
const shared_types_2 = require("@madmall/shared-types");
class PremiumSourceDynamoDAO extends base_dao_1.BaseDynamoDAO {
    constructor(dynamoService) {
        super(dynamoService, 'PREMIUM_SOURCE');
    }
    validateEntitySpecific(entity) {
        return shared_types_2.DataValidator.validatePremiumSource(entity);
    }
    async getByProvider(provider, options) {
        return await this.queryGSI('GSI1', `PROVIDER#${provider}`, undefined, options);
    }
    async getById(sourceId) {
        const { PK, SK } = shared_types_1.KeyPatterns.PREMIUM_SOURCE_METADATA(sourceId);
        return await super.getById(PK, SK);
    }
}
exports.PremiumSourceDynamoDAO = PremiumSourceDynamoDAO;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbWl1bS1zb3VyY2UtZGFvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Rhby9wcmVtaXVtLXNvdXJjZS1kYW8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7O0FBRUgseUNBQTJDO0FBRTNDLHdEQUEyRTtBQUMzRSx3REFBd0U7QUFHeEUsTUFBYSxzQkFBdUIsU0FBUSx3QkFBb0M7SUFDOUUsWUFBWSxhQUE4QjtRQUN4QyxLQUFLLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVTLHNCQUFzQixDQUFDLE1BQTZCO1FBQzVELE9BQU8sNEJBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQsS0FBSyxDQUFDLGFBQWEsQ0FBQyxRQUFnQixFQUFFLE9BQXNCO1FBQzFELE9BQU8sTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxZQUFZLFFBQVEsRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFnQjtRQUM1QixNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLDBCQUFXLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakUsT0FBTyxNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDRjtBQWpCRCx3REFpQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFByZW1pdW0gU291cmNlIERBTyBJbXBsZW1lbnRhdGlvblxuICogTWFuYWdlcyBwcmVtaXVtIGltYWdlIHByb3ZpZGVycyBhbmQgbGljZW5zaW5nIG1ldGFkYXRhXG4gKi9cblxuaW1wb3J0IHsgQmFzZUR5bmFtb0RBTyB9IGZyb20gJy4vYmFzZS1kYW8nO1xuaW1wb3J0IHsgUXVlcnlPcHRpb25zLCBRdWVyeVJlc3VsdCB9IGZyb20gJ0BtYWRtYWxsL3NoYXJlZC10eXBlcyc7XG5pbXBvcnQgeyBEeW5hbW9EQlByZW1pdW1Tb3VyY2UsIEtleVBhdHRlcm5zIH0gZnJvbSAnQG1hZG1hbGwvc2hhcmVkLXR5cGVzJztcbmltcG9ydCB7IERhdGFWYWxpZGF0b3IsIFZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICdAbWFkbWFsbC9zaGFyZWQtdHlwZXMnO1xuaW1wb3J0IHsgRHluYW1vREJTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZHluYW1vZGItc2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBQcmVtaXVtU291cmNlRHluYW1vREFPIGV4dGVuZHMgQmFzZUR5bmFtb0RBTzxEeW5hbW9EQlByZW1pdW1Tb3VyY2U+IHtcbiAgY29uc3RydWN0b3IoZHluYW1vU2VydmljZTogRHluYW1vREJTZXJ2aWNlKSB7XG4gICAgc3VwZXIoZHluYW1vU2VydmljZSwgJ1BSRU1JVU1fU09VUkNFJyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdmFsaWRhdGVFbnRpdHlTcGVjaWZpYyhlbnRpdHk6IER5bmFtb0RCUHJlbWl1bVNvdXJjZSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICAgIHJldHVybiBEYXRhVmFsaWRhdG9yLnZhbGlkYXRlUHJlbWl1bVNvdXJjZShlbnRpdHkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0QnlQcm92aWRlcihwcm92aWRlcjogc3RyaW5nLCBvcHRpb25zPzogUXVlcnlPcHRpb25zKTogUHJvbWlzZTxRdWVyeVJlc3VsdDxEeW5hbW9EQlByZW1pdW1Tb3VyY2U+PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucXVlcnlHU0koJ0dTSTEnLCBgUFJPVklERVIjJHtwcm92aWRlcn1gLCB1bmRlZmluZWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0QnlJZChzb3VyY2VJZDogc3RyaW5nKTogUHJvbWlzZTxEeW5hbW9EQlByZW1pdW1Tb3VyY2UgfCBudWxsPiB7XG4gICAgY29uc3QgeyBQSywgU0sgfSA9IEtleVBhdHRlcm5zLlBSRU1JVU1fU09VUkNFX01FVEFEQVRBKHNvdXJjZUlkKTtcbiAgICByZXR1cm4gYXdhaXQgc3VwZXIuZ2V0QnlJZChQSywgU0spO1xuICB9XG59XG5cbiJdfQ==